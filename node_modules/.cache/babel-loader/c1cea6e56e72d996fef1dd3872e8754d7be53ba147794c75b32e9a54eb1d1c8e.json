{"ast":null,"code":"export default {\n  data() {\n    return {\n      colors: [\"黑\", \"棕\", \"紅\", \"橙\", \"黃\", \"綠\", \"藍\", \"紫\", \"灰\", \"白\"],\n      score: 0,\n      roundTime: 30,\n      // 每回合時間（秒）\n      timer: null,\n      displayedWord: \"按下開始遊戲\",\n      colorCode: \"#000000\",\n      result: \"\"\n    };\n  },\n  methods: {\n    startGame() {\n      this.score = 0;\n      this.result = \"\";\n      this.startRound();\n      this.timer = setTimeout(this.endGame, this.roundTime * 1000);\n    },\n    startRound() {\n      const word = this.colors[Math.floor(Math.random() * this.colors.length)];\n      let colorDisplayed;\n      do {\n        colorDisplayed = this.colors[Math.floor(Math.random() * this.colors.length)];\n      } while (colorDisplayed === word);\n      this.displayedWord = word;\n      this.colorCode = this.getColorCode(colorDisplayed);\n      this.startSpeechRecognition(colorDisplayed);\n    },\n    getColorCode(colorName) {\n      const colorMap = {\n        黑: \"#000000\",\n        棕: \"#A52A2A\",\n        紅: \"#FF0000\",\n        橙: \"#FFA500\",\n        黃: \"#FFFF00\",\n        綠: \"#008000\",\n        藍: \"#0000FF\",\n        紫: \"#800080\",\n        灰: \"#808080\",\n        白: \"#FFFFFF\"\n      };\n      return colorMap[colorName];\n    },\n    startSpeechRecognition(correctColor) {\n      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\n      recognition.lang = \"zh-TW\";\n      recognition.start();\n      recognition.onresult = event => {\n        const userAnswer = event.results[0][0].transcript;\n        if (userAnswer === correctColor) {\n          this.score++;\n          this.result = \"答對了！\";\n        } else {\n          this.result = `答錯了！正確答案是：${correctColor}`;\n        }\n        this.$nextTick(() => {\n          setTimeout(this.startRound, 1000); // 等待一秒再開始新回合\n        });\n      };\n      recognition.onerror = () => {\n        this.result = \"語音辨識失敗，請再試一次。\";\n        this.$nextTick(() => {\n          setTimeout(this.startRound, 1000);\n        });\n      };\n    },\n    endGame() {\n      clearTimeout(this.timer);\n      this.result = `遊戲結束！總分數: ${this.score}`;\n      this.displayedWord = \"按下開始遊戲\";\n    }\n  }\n};","map":{"version":3,"names":["data","colors","score","roundTime","timer","displayedWord","colorCode","result","methods","startGame","startRound","setTimeout","endGame","word","Math","floor","random","length","colorDisplayed","getColorCode","startSpeechRecognition","colorName","colorMap","黑","棕","紅","橙","黃","綠","藍","紫","灰","白","correctColor","recognition","window","SpeechRecognition","webkitSpeechRecognition","lang","start","onresult","event","userAnswer","results","transcript","$nextTick","onerror","clearTimeout"],"sources":["/home/liang/Programs/colorgame/src/App.vue"],"sourcesContent":["<template>\n  <div class=\"color-game\">\n    <h1>顏色辨識遊戲</h1>\n    <p>當顯示顏色時，請用語音說出顯示的顏色名稱！</p>\n    <div id=\"color-display\" :style=\"{ color: colorCode }\">{{ displayedWord }}</div>\n    <button @click=\"startGame\">開始遊戲</button>\n    <div id=\"result\">{{ result }}</div>\n    <div id=\"score\">分數: {{ score }}</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      colors: [\"黑\", \"棕\", \"紅\", \"橙\", \"黃\", \"綠\", \"藍\", \"紫\", \"灰\", \"白\"],\n      score: 0,\n      roundTime: 30, // 每回合時間（秒）\n      timer: null,\n      displayedWord: \"按下開始遊戲\",\n      colorCode: \"#000000\",\n      result: \"\",\n    };\n  },\n  methods: {\n    startGame() {\n      this.score = 0;\n      this.result = \"\";\n      this.startRound();\n      this.timer = setTimeout(this.endGame, this.roundTime * 1000);\n    },\n    startRound() {\n      const word = this.colors[Math.floor(Math.random() * this.colors.length)];\n      let colorDisplayed;\n      do {\n        colorDisplayed = this.colors[Math.floor(Math.random() * this.colors.length)];\n      } while (colorDisplayed === word);\n\n      this.displayedWord = word;\n      this.colorCode = this.getColorCode(colorDisplayed);\n      this.startSpeechRecognition(colorDisplayed);\n    },\n    getColorCode(colorName) {\n      const colorMap = {\n        黑: \"#000000\",\n        棕: \"#A52A2A\",\n        紅: \"#FF0000\",\n        橙: \"#FFA500\",\n        黃: \"#FFFF00\",\n        綠: \"#008000\",\n        藍: \"#0000FF\",\n        紫: \"#800080\",\n        灰: \"#808080\",\n        白: \"#FFFFFF\",\n      };\n      return colorMap[colorName];\n    },\n    startSpeechRecognition(correctColor) {\n      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\n      recognition.lang = \"zh-TW\";\n      recognition.start();\n\n      recognition.onresult = (event) => {\n        const userAnswer = event.results[0][0].transcript;\n        if (userAnswer === correctColor) {\n          this.score++;\n          this.result = \"答對了！\";\n        } else {\n          this.result = `答錯了！正確答案是：${correctColor}`;\n        }\n        this.$nextTick(() => {\n          setTimeout(this.startRound, 1000); // 等待一秒再開始新回合\n        });\n      };\n\n      recognition.onerror = () => {\n        this.result = \"語音辨識失敗，請再試一次。\";\n        this.$nextTick(() => {\n          setTimeout(this.startRound, 1000);\n        });\n      };\n    },\n    endGame() {\n      clearTimeout(this.timer);\n      this.result = `遊戲結束！總分數: ${this.score}`;\n      this.displayedWord = \"按下開始遊戲\";\n    },\n  },\n};\n</script>\n\n<style scoped>\n.color-game {\n  text-align: center;\n  font-family: Arial, sans-serif;\n}\n#color-display {\n  font-size: 3em;\n  margin-top: 50px;\n}\n#result, #score {\n  margin-top: 20px;\n  font-size: 1.5em;\n}\nbutton {\n  margin-top: 20px;\n  padding: 10px 20px;\n  font-size: 1em;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}